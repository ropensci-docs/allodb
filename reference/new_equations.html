<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function modifies the original equation table to be used in other
functions of the package including: subset the original equation table, add
new equations, and choose whether to include equations with a height
allometry."><title>Modify the original equation table — new_equations • allodb</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Modify the original equation table — new_equations"><meta property="og:description" content="This function modifies the original equation table to be used in other
functions of the package including: subset the original equation table, add
new equations, and choose whether to include equations with a height
allometry."><meta property="og:image" content="https://docs.ropensci.org/allodb/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">allodb</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/allodb.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/allodb/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Modify the original equation table</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/allodb/blob/HEAD/R/new_equations.R" class="external-link"><code>R/new_equations.R</code></a></small>
      <div class="d-none name"><code>new_equations.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function modifies the original equation table to be used in other
functions of the package including: subset the original equation table, add
new equations, and choose whether to include equations with a height
allometry.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">new_equations</span><span class="op">(</span></span>
<span>  subset_taxa <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  subset_climate <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  subset_region <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  subset_ids <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  subset_output <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Total aboveground biomass"</span>, <span class="st">"Whole tree (above stump)"</span><span class="op">)</span>,</span>
<span>  new_taxa <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_allometry <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_coords <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_min_dbh <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_max_dbh <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_sample_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_unit_dbh <span class="op">=</span> <span class="st">"cm"</span>,</span>
<span>  new_unit_output <span class="op">=</span> <span class="st">"kg"</span>,</span>
<span>  new_input_var <span class="op">=</span> <span class="st">"DBH"</span>,</span>
<span>  new_output_var <span class="op">=</span> <span class="st">"Total aboveground biomass"</span>,</span>
<span>  use_height_allom <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>subset_taxa</dt>
<dd><p>character vector with taxa to be kept. Default is "all",
in which case all taxa are kept.</p></dd>


<dt>subset_climate</dt>
<dd><p>character vector with Koppen climate classification to
be kept. Default is "all", in which case all climates are kept.</p></dd>


<dt>subset_region</dt>
<dd><p>character vector with name of location(s) or
country(ies) or broader region(s) (eg. "Europe", "North America") to be
kept. Default is "all", in which case all regions/countries are kept.</p></dd>


<dt>subset_ids</dt>
<dd><p>character vector with equation IDs to be kept. Default is
"all", in which case all equations are kept.</p></dd>


<dt>subset_output</dt>
<dd><p>What dependent variable(s) should be provided in the
output? Default is "Total aboveground biomass" and "Whole tree (above
stump)", other possible values are: "Bark biomass", "Branches (dead)",
"Branches (live)", "Branches total (live, dead)", "Foliage total",
"Height", "Leaves", "Stem (wood only)", "Stem biomass", "Stem biomass (with
bark)", "Stem biomass (without bark)", "Whole tree (above and
belowground)". Be aware that currently only a few equations represent those
other variables, so estimated values might not be very accurate.</p></dd>


<dt>new_taxa</dt>
<dd><p>character string or vector specifying the taxon (or taxa) for
which the allometry has been calibrated.</p></dd>


<dt>new_allometry</dt>
<dd><p>a character string with the allometric equation.</p></dd>


<dt>new_coords</dt>
<dd><p>a vector or matrix of coordinates (longitude, latitude) of
the calibration data.</p></dd>


<dt>new_min_dbh</dt>
<dd><p>numerical value, minimum DBH for which the equation is
valid (in cm). Default is <code>NULL</code> (nothing is added).</p></dd>


<dt>new_max_dbh</dt>
<dd><p>numerical value, maximum DBH for which the equation is
valid (in cm). Default is <code>NULL</code> (nothing is added).</p></dd>


<dt>new_sample_size</dt>
<dd><p>number of measurements with which the allometry was
calibrated. Default is <code>NULL</code> (nothing is added).</p></dd>


<dt>new_unit_dbh</dt>
<dd><p>character string with unit of DBH in the equation (either
<code>cm</code>, <code>mm</code> or <code>inch</code>). Default is "cm".</p></dd>


<dt>new_unit_output</dt>
<dd><p>character string with unit of equation output (either
"g", "kg", "Mg" or "lbs" if the output is a mass, or "m" if the output is a
height).</p></dd>


<dt>new_input_var</dt>
<dd><p>independent variable(s) needed in the allometry. Default
is "DBH", other option is "DBH, H".</p></dd>


<dt>new_output_var</dt>
<dd><p>dependent variable estimated by the allometry. Default
is "Total aboveground biomass".</p></dd>


<dt>use_height_allom</dt>
<dd><p>a logical value. In <em>allodb</em> we use Bohn et al.
(2014) for European sites. User need to provide height allometry when
needed to calculate AGB. Default is <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class "data.frame" of new equations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">new_equations</span><span class="op">(</span></span></span>
<span class="r-in"><span>  new_taxa <span class="op">=</span> <span class="st">"Faga"</span>,</span></span>
<span class="r-in"><span>  new_allometry <span class="op">=</span> <span class="st">"exp(-2+log(dbh)*2.5)"</span>,</span></span>
<span class="r-in"><span>  new_coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.07</span>, <span class="fl">46.11</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  new_min_dbh <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  new_max_dbh <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  new_sample_size <span class="op">=</span> <span class="fl">50</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 478 × 15</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    equation_id equation_taxa           equation_allometry   independent_variable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 726f1d      Larix laricina          10^(2.648+0.715*(lo… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> a4d879      Acer saccharum          10^(1.2315+1.6376*(… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> b9ebe4      Alnus rubra             exp(5.13118+2.15046… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 5e2dea      Viburnum lantanoides    29.615*((1.488+1.19… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 21800b      Pinus strobus           exp(5.2831+2.0369*l… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 1257b1      Abies                   exp(3.1689+2.6825*l… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 9e2124      Populus davidiana       10^(1.826+2.558*(lo… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 74d0ce      Ostrya virginiana       exp(4.89+2.3*log(db… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 94f593      Liriodendron tulipifera 10^(0.8306+1.527*(l… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 8c94e8      Nyssa sylvatica         10^(1.1468+1.4806*(… DBH                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 468 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 11 more variables: dependent_variable &lt;chr&gt;, long &lt;chr&gt;, lat &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   koppen &lt;chr&gt;, dbh_min_cm &lt;dbl&gt;, dbh_max_cm &lt;dbl&gt;, sample_size &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   dbh_units_original &lt;chr&gt;, dbh_unit_cf &lt;dbl&gt;, output_units_original &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   output_units_cf &lt;dbl&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

